<?php
 namespace App\Http\Middleware; use Closure; use Illuminate\Http\Request; use Symfony\Component\HttpFoundation\Response; use Carbon\Carbon; class LicenseMiddleware { public function handle(Request $request, Closure $next) : Response { $licenseKey = config("\x6c\151\x6e\56\114\111\103\105\x4e\123\105\137\113\x45\131"); $expiryDate = config("\x6c\151\x6e\56\114\x49\x43\x45\x4e\123\x45\x5f\105\x58\x50\111\x52\x59\137\104\x41\x54\x45"); if (!$licenseKey || Carbon::parse($expiryDate)->isBefore(Carbon::now())) { return redirect()->route("\154\x69\x63\145\x6e\163\x65"); } return $next($request); } }